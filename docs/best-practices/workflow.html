<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-best-practices/workflow" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">工作流最佳实践 | Claude Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://luuman.github.io/claude-doc/docs/best-practices/workflow"><meta data-rh="true" property="og:locale" content="zh"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="工作流最佳实践 | Claude Docs"><meta data-rh="true" name="description" content="Claude Code 工作流最佳实践，涵盖探索-规划-编码-提交、TDD、代码审查与验证闭环"><meta data-rh="true" property="og:description" content="Claude Code 工作流最佳实践，涵盖探索-规划-编码-提交、TDD、代码审查与验证闭环"><link data-rh="true" rel="icon" href="/claude-doc/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://luuman.github.io/claude-doc/docs/best-practices/workflow"><link data-rh="true" rel="alternate" href="https://luuman.github.io/claude-doc/docs/best-practices/workflow" hreflang="zh"><link data-rh="true" rel="alternate" href="https://luuman.github.io/claude-doc/docs/best-practices/workflow" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"工作流最佳实践","item":"https://luuman.github.io/claude-doc/docs/best-practices/workflow"}]}</script><link rel="alternate" type="application/rss+xml" href="/claude-doc/blog/rss.xml" title="Claude Docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/claude-doc/blog/atom.xml" title="Claude Docs Atom Feed"><link rel="stylesheet" href="/claude-doc/assets/css/styles.b961a2e4.css">
<script src="/claude-doc/assets/js/runtime~main.b2563310.js" defer="defer"></script>
<script src="/claude-doc/assets/js/main.906b66fd.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"dark"),document.documentElement.setAttribute("data-theme-choice",t||"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav class="navbar navbar--fixed-top navbar_MONK" role="navigation" aria-label="Main"><div class="navbarInner_ASTH"><div class="navbarLeft_pUmY"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="brand_SXL9" href="/claude-doc/"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="24" height="24" rx="6" fill="var(--ifm-color-primary)"></rect><path d="M7 8.5h10M7 12h7M7 15.5h10" stroke="white" stroke-width="1.8" stroke-linecap="round"></path></svg><span class="brandTitle_XbyU">Claude</span></a><div class="dropdown_GrgZ"><button class="dropdownToggle_Nf_z">全部站点<svg class="dropdownArrow_Eka8" viewBox="0 0 12 12" fill="none"><path d="M2 4l4 4 4-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button><ul class="dropdownMenu_zsxH"><li><a href="https://luuman.github.io/docs-workspace/docs" class="dropdownMenuItem_VBaP">Workspace</a></li><li><a href="https://luuman.github.io/moltbot-doc/docs" class="dropdownMenuItem_VBaP">Moltbot</a></li><li><a href="https://luuman.github.io/electron-doc/docs" class="dropdownMenuItem_VBaP">Electron</a></li><li><a href="https://luuman.github.io/tauri-doc/docs" class="dropdownMenuItem_VBaP">Tauri</a></li><li><a href="https://luuman.github.io/matrx-doc/docs" class="dropdownMenuItem_VBaP">Matrx</a></li><li><a href="https://luuman.github.io/brainboard-doc/docs" class="dropdownMenuItem_VBaP">Brainboard</a></li><li><a href="https://luuman.github.io/synology-doc/docs" class="dropdownMenuItem_VBaP">Synology</a></li><li><a href="https://luuman.github.io/codex-doc/docs" class="dropdownMenuItem_VBaP">Codex</a></li><li><a href="https://luuman.github.io/ai-doc/docs" class="dropdownMenuItem_VBaP">AI</a></li></ul></div></div><div class="navbarCenter_Zdr3"><div class="root_OF3s"><span class="icon_UcOK" aria-hidden="true"><svg viewBox="0 0 24 24" fill="currentColor" width="15" height="15"><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path></svg></span><div class="slot__FGx"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="搜索" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div class="navbarRight_q16u"><a class="navLink_RnnM" href="/claude-doc/docs">Docs</a><a class="navLink_RnnM" href="/claude-doc/blog">Blog</a><button class="themeToggle_zD_x" aria-label="Switch to light theme" title="Light"><svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor"><path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"></path></svg></button></div></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/claude-doc/docs"><span title="Claude Code 完全指南" class="linkLabel_WmDU">Claude Code 完全指南</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/claude-doc/docs/getting-started"><span title="快速开始" class="linkLabel_WmDU">快速开始</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/claude-doc/docs/core-concepts/skills"><span title="核心概念" class="categoryLinkLabel_W154">核心概念</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/claude-doc/docs/core-concepts/skills"><span title="Skills（技能包）" class="linkLabel_WmDU">Skills（技能包）</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/claude-doc/docs/core-concepts/hooks"><span title="Hooks（钩子）" class="linkLabel_WmDU">Hooks（钩子）</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/claude-doc/docs/core-concepts/plugins"><span title="Plugins（插件）" class="linkLabel_WmDU">Plugins（插件）</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/claude-doc/docs/core-concepts/mcp-servers"><span title="MCP Servers（模型上下文协议）" class="linkLabel_WmDU">MCP Servers（模型上下文协议）</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/claude-doc/docs/core-concepts/subagents"><span title="Subagents（子代理）" class="linkLabel_WmDU">Subagents（子代理）</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/claude-doc/docs/core-concepts/claude-md"><span title="CLAUDE.md（项目记忆文件）" class="linkLabel_WmDU">CLAUDE.md（项目记忆文件）</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/claude-doc/docs/core-concepts/memory"><span title="Memory（自动记忆）" class="linkLabel_WmDU">Memory（自动记忆）</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/claude-doc/docs/advanced-features/plan-mode"><span title="高级功能" class="categoryLinkLabel_W154">高级功能</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/claude-doc/docs/advanced-features/plan-mode"><span title="Plan 模式（规划模式）" class="linkLabel_WmDU">Plan 模式（规划模式）</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/claude-doc/docs/advanced-features/headless-mode"><span title="Headless 模式（无头模式）" class="linkLabel_WmDU">Headless 模式（无头模式）</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/claude-doc/docs/advanced-features/slash-commands"><span title="自定义斜杠命令" class="linkLabel_WmDU">自定义斜杠命令</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/claude-doc/docs/advanced-features/agent-sdk"><span title="Claude Agent SDK" class="linkLabel_WmDU">Claude Agent SDK</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/claude-doc/docs/advanced-features/ide-integration"><span title="IDE 集成" class="linkLabel_WmDU">IDE 集成</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/claude-doc/docs/advanced-features/vibecraft"><span title="VibeCraft — Claude Code 3D 可视化" class="linkLabel_WmDU">VibeCraft — Claude Code 3D 可视化</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/claude-doc/docs/best-practices/workflow"><span title="最佳实践" class="categoryLinkLabel_W154">最佳实践</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/claude-doc/docs/best-practices/workflow"><span title="工作流最佳实践" class="linkLabel_WmDU">工作流最佳实践</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/claude-doc/docs/best-practices/performance"><span title="性能优化" class="linkLabel_WmDU">性能优化</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/claude-doc/docs/best-practices/security"><span title="安全与故障排查" class="linkLabel_WmDU">安全与故障排查</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/claude-doc/docs/category/真实场景案例库"><span title="真实场景案例库" class="categoryLinkLabel_W154">真实场景案例库</span></a><button aria-label="折叠侧边栏分类 &#x27;真实场景案例库&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/claude-doc/docs/use-cases"><span title="真实场景案例库" class="linkLabel_WmDU">真实场景案例库</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/claude-doc/docs/use-cases/frontend-acceleration"><span title="React 项目加速" class="linkLabel_WmDU">React 项目加速</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/claude-doc/docs/use-cases/ui-components"><span title="UI 组件库自动化" class="linkLabel_WmDU">UI 组件库自动化</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/claude-doc/docs/use-cases/backend-api"><span title="API 快速开发" class="linkLabel_WmDU">API 快速开发</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/claude-doc/docs/use-cases/database-migration"><span title="数据库迁移和优化" class="linkLabel_WmDU">数据库迁移和优化</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/claude-doc/docs/use-cases/cicd-automation"><span title="CI/CD 流程自动化" class="linkLabel_WmDU">CI/CD 流程自动化</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/claude-doc/docs/use-cases/infrastructure-as-code"><span title="基础设施即代码（IaC）" class="linkLabel_WmDU">基础设施即代码（IaC）</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/claude-doc/docs/use-cases/api-documentation"><span title="API 文档自动化" class="linkLabel_WmDU">API 文档自动化</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/claude-doc/docs/use-cases/technical-writing"><span title="技术文档写作" class="linkLabel_WmDU">技术文档写作</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/claude-doc/docs/use-cases/code-review"><span title="代码审查自动化" class="linkLabel_WmDU">代码审查自动化</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/claude-doc/docs/use-cases/knowledge-base"><span title="知识库维护" class="linkLabel_WmDU">知识库维护</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/claude-doc/docs/quick-reference"><span title="速查手册" class="linkLabel_WmDU">速查手册</span></a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/claude-doc/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">最佳实践</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">工作流最佳实践</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>工作流最佳实践</h1></header>
<p>高效使用 Claude Code 的核心在于建立规范的工作流。本文介绍几种经过验证的工作流模式，帮助你最大化 Claude Code 的生产力。</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="探索-规划-编码-提交工作流">探索-规划-编码-提交工作流<a href="#探索-规划-编码-提交工作流" class="hash-link" aria-label="探索-规划-编码-提交工作流的直接链接" title="探索-规划-编码-提交工作流的直接链接" translate="no">​</a></h2>
<p>这是 Claude Code 最推荐的标准工作流，适用于大多数功能开发和 Bug 修复场景。</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="前置准备">前置准备<a href="#前置准备" class="hash-link" aria-label="前置准备的直接链接" title="前置准备的直接链接" translate="no">​</a></h3>
<p>在开始工作之前，确保以下工具已安装和配置：</p>

























<table><thead><tr><th>工具</th><th>安装命令</th><th>用途</th></tr></thead><tbody><tr><td>GitHub MCP</td><td><code>claude mcp add github</code></td><td>代码仓库访问与操作</td></tr><tr><td>Commit Skill</td><td><code>/install-skill commit</code></td><td>标准化提交流程</td></tr><tr><td>Chrome DevTools MCP</td><td><code>claude mcp add chrome-devtools</code></td><td>浏览器调试与自动化</td></tr></tbody></table>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>为什么需要这些工具？</div><div class="admonitionContent_BuS1"><p>GitHub MCP 让 Claude 直接访问仓库、PR 和 Issue；Commit Skill 确保提交信息规范一致；Chrome DevTools MCP 则实现 UI 变更的自动化验证，构成完整的开发闭环。</p></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="第-1-步探索explore">第 1 步：探索（Explore）<a href="#第-1-步探索explore" class="hash-link" aria-label="第 1 步：探索（Explore）的直接链接" title="第 1 步：探索（Explore）的直接链接" translate="no">​</a></h3>
<p>深入理解项目架构是高质量输出的基础。</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain"># 使用 @src/ 引用分析项目结构</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">@src/ 分析这个项目的整体架构，重点关注：</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">1. 目录结构和模块划分</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">2. 核心数据流和状态管理</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">3. 主要依赖和技术栈</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">4. 现有的代码规范和模式</span><br></span></code></pre></div></div>
<p><strong>探索阶段的关键操作：</strong></p>
<ul>
<li class="">使用 <code>@src/</code> 引用整个源码目录进行宏观分析</li>
<li class="">使用 <code>@src/components/Auth.tsx</code> 引用特定文件进行微观分析</li>
<li class="">询问 Claude 关于项目中已有的类似实现，避免重复造轮子</li>
<li class="">理解测试覆盖情况和现有的测试模式</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>高效探索技巧</div><div class="admonitionContent_BuS1"><p>先让 Claude 生成项目架构概述，再根据概述针对性地深入某个模块。这样比直接描述需求更能让 Claude 理解项目上下文。</p></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="第-2-步规划plan">第 2 步：规划（Plan）<a href="#第-2-步规划plan" class="hash-link" aria-label="第 2 步：规划（Plan）的直接链接" title="第 2 步：规划（Plan）的直接链接" translate="no">​</a></h3>
<p>在编码之前，先进入 Plan 模式明确需求和实现路径。</p>
<p><strong>进入 Plan 模式：</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain">按 Shift+Tab 两次 → 切换到 Plan 模式（提示符变为 📋）</span><br></span></code></pre></div></div>
<p>在 Plan 模式下，Claude 只会输出计划，不会执行任何代码修改。</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain"># Plan 模式示例提示词</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">基于刚才的探索，请制定实现用户认证功能的详细计划：</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">1. 需要修改哪些文件？</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">2. 每个步骤的具体内容是什么？</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">3. 可能遇到的风险点有哪些？</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">4. 如何验证实现是否正确？</span><br></span></code></pre></div></div>
<p><strong>一个好的计划应该包含：</strong></p>
<ul>
<li class="">需要创建/修改的文件列表</li>
<li class="">每个文件的变更摘要</li>
<li class="">实现步骤的先后顺序</li>
<li class="">验证方案</li>
</ul>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>不要跳过规划步骤</div><div class="admonitionContent_BuS1"><p>直接让 Claude 开始编码，往往会导致中途方向偏差，需要大量返工。5 分钟的规划可以节省 50 分钟的修复时间。</p></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="第-3-步编码code">第 3 步：编码（Code）<a href="#第-3-步编码code" class="hash-link" aria-label="第 3 步：编码（Code）的直接链接" title="第 3 步：编码（Code）的直接链接" translate="no">​</a></h3>
<p>按照计划逐步实施，保持对过程的掌控。</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain"># 实施计划</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">按照上面的计划，开始第 1 步：创建用户认证模块的基础结构</span><br></span></code></pre></div></div>
<p><strong>编码阶段的关键原则：</strong></p>
<ul>
<li class=""><strong>按步骤推进</strong>：每次让 Claude 完成一个小步骤，而非一次性完成所有工作</li>
<li class=""><strong>遇到问题立即暂停</strong>：如果某步骤出现意外，先分析原因再继续</li>
<li class=""><strong>运行测试验证</strong>：每完成一个功能单元，立即运行相关测试</li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain"># 验证当前进度</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">!npm test -- --testPathPattern=auth</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">!git diff --stat  # 查看变更范围</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>警惕范围蔓延</div><div class="admonitionContent_BuS1"><p>如果 Claude 开始修改计划之外的文件，立即叫停并询问原因。这可能意味着分析不够深入，或者 Claude 在&quot;过度优化&quot;。</p></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="第-4-步提交commit">第 4 步：提交（Commit）<a href="#第-4-步提交commit" class="hash-link" aria-label="第 4 步：提交（Commit）的直接链接" title="第 4 步：提交（Commit）的直接链接" translate="no">​</a></h3>
<p>使用 Commit Skill 生成规范的提交信息。</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain"># 调用 commit skill</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">/commit</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"># Commit Skill 会自动：</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"># 1. 分析变更内容（git diff）</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"># 2. 生成符合 Conventional Commits 规范的提交信息</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"># 3. 确认后执行 git commit</span><br></span></code></pre></div></div>
<p><strong>提交信息规范示例：</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain">feat(auth): 实现 JWT 用户认证模块</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">- 添加 JWTService 处理令牌生成与验证</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">- 实现 AuthMiddleware 保护私有路由</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">- 添加 refreshToken 自动刷新机制</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">- 单元测试覆盖率达到 90%</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">Closes #123</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="测试驱动开发tdd工作流">测试驱动开发（TDD）工作流<a href="#测试驱动开发tdd工作流" class="hash-link" aria-label="测试驱动开发（TDD）工作流的直接链接" title="测试驱动开发（TDD）工作流的直接链接" translate="no">​</a></h2>
<p>TDD 工作流帮助你先定义期望行为，再实现功能，确保代码质量从一开始就有保障。</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="安装-test-writer-skill">安装 Test-Writer Skill<a href="#安装-test-writer-skill" class="hash-link" aria-label="安装 Test-Writer Skill的直接链接" title="安装 Test-Writer Skill的直接链接" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain">/install-skill test-writer</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="tdd-五步循环">TDD 五步循环<a href="#tdd-五步循环" class="hash-link" aria-label="TDD 五步循环的直接链接" title="TDD 五步循环的直接链接" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain">┌─────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">│                    TDD 循环流程                          │</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">│                                                         │</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">│  1. 写测试 → 2. 运行(预期失败) → 3. 最小实现            │</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">│      ↑                                    ↓             │</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">│  5. 重复  ←────────── 4. 重构 ←───────────              │</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">└─────────────────────────────────────────────────────────┘</span><br></span></code></pre></div></div>
<p><strong>第 1 步：先写测试</strong></p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token comment" style="color:#637777;font-style:italic">// 使用 test-writer skill 生成测试</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"></span><span class="token operator" style="color:#7FDBCA">/</span><span class="token plain">test</span><span class="token operator" style="color:#7FDBCA">-</span><span class="token plain">writer 为 UserService</span><span class="token punctuation" style="color:#C792EA">.</span><span class="token plain">createUser 方法编写完整的单元测试</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"></span><span class="token comment" style="color:#637777;font-style:italic">// 生成的测试示例</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"></span><span class="token function" style="color:#82AAFF">describe</span><span class="token punctuation" style="color:#C792EA">(</span><span class="token string" style="color:#ECC48D">&#x27;UserService.createUser&#x27;</span><span class="token punctuation" style="color:#C792EA">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#C792EA">(</span><span class="token punctuation" style="color:#C792EA">)</span><span class="token plain"> </span><span class="token operator" style="color:#7FDBCA">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#C792EA">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  </span><span class="token function" style="color:#82AAFF">it</span><span class="token punctuation" style="color:#C792EA">(</span><span class="token string" style="color:#ECC48D">&#x27;should create user with valid data&#x27;</span><span class="token punctuation" style="color:#C792EA">,</span><span class="token plain"> </span><span class="token keyword" style="color:#C792EA">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#C792EA">(</span><span class="token punctuation" style="color:#C792EA">)</span><span class="token plain"> </span><span class="token operator" style="color:#7FDBCA">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#C792EA">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    </span><span class="token keyword" style="color:#C792EA">const</span><span class="token plain"> userData </span><span class="token operator" style="color:#7FDBCA">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#C792EA">{</span><span class="token plain"> email</span><span class="token operator" style="color:#7FDBCA">:</span><span class="token plain"> </span><span class="token string" style="color:#ECC48D">&#x27;test@example.com&#x27;</span><span class="token punctuation" style="color:#C792EA">,</span><span class="token plain"> password</span><span class="token operator" style="color:#7FDBCA">:</span><span class="token plain"> </span><span class="token string" style="color:#ECC48D">&#x27;secure123&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#C792EA">}</span><span class="token punctuation" style="color:#C792EA">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    </span><span class="token keyword" style="color:#C792EA">const</span><span class="token plain"> user </span><span class="token operator" style="color:#7FDBCA">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C792EA">await</span><span class="token plain"> userService</span><span class="token punctuation" style="color:#C792EA">.</span><span class="token function" style="color:#82AAFF">createUser</span><span class="token punctuation" style="color:#C792EA">(</span><span class="token plain">userData</span><span class="token punctuation" style="color:#C792EA">)</span><span class="token punctuation" style="color:#C792EA">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    </span><span class="token function" style="color:#82AAFF">expect</span><span class="token punctuation" style="color:#C792EA">(</span><span class="token plain">user</span><span class="token punctuation" style="color:#C792EA">.</span><span class="token plain">id</span><span class="token punctuation" style="color:#C792EA">)</span><span class="token punctuation" style="color:#C792EA">.</span><span class="token function" style="color:#82AAFF">toBeDefined</span><span class="token punctuation" style="color:#C792EA">(</span><span class="token punctuation" style="color:#C792EA">)</span><span class="token punctuation" style="color:#C792EA">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    </span><span class="token function" style="color:#82AAFF">expect</span><span class="token punctuation" style="color:#C792EA">(</span><span class="token plain">user</span><span class="token punctuation" style="color:#C792EA">.</span><span class="token plain">email</span><span class="token punctuation" style="color:#C792EA">)</span><span class="token punctuation" style="color:#C792EA">.</span><span class="token function" style="color:#82AAFF">toBe</span><span class="token punctuation" style="color:#C792EA">(</span><span class="token plain">userData</span><span class="token punctuation" style="color:#C792EA">.</span><span class="token plain">email</span><span class="token punctuation" style="color:#C792EA">)</span><span class="token punctuation" style="color:#C792EA">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    </span><span class="token function" style="color:#82AAFF">expect</span><span class="token punctuation" style="color:#C792EA">(</span><span class="token plain">user</span><span class="token punctuation" style="color:#C792EA">.</span><span class="token plain">password</span><span class="token punctuation" style="color:#C792EA">)</span><span class="token punctuation" style="color:#C792EA">.</span><span class="token plain">not</span><span class="token punctuation" style="color:#C792EA">.</span><span class="token function" style="color:#82AAFF">toBe</span><span class="token punctuation" style="color:#C792EA">(</span><span class="token plain">userData</span><span class="token punctuation" style="color:#C792EA">.</span><span class="token plain">password</span><span class="token punctuation" style="color:#C792EA">)</span><span class="token punctuation" style="color:#C792EA">;</span><span class="token plain"> </span><span class="token comment" style="color:#637777;font-style:italic">// 密码应被哈希</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  </span><span class="token punctuation" style="color:#C792EA">}</span><span class="token punctuation" style="color:#C792EA">)</span><span class="token punctuation" style="color:#C792EA">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  </span><span class="token function" style="color:#82AAFF">it</span><span class="token punctuation" style="color:#C792EA">(</span><span class="token string" style="color:#ECC48D">&#x27;should throw error for duplicate email&#x27;</span><span class="token punctuation" style="color:#C792EA">,</span><span class="token plain"> </span><span class="token keyword" style="color:#C792EA">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#C792EA">(</span><span class="token punctuation" style="color:#C792EA">)</span><span class="token plain"> </span><span class="token operator" style="color:#7FDBCA">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#C792EA">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    </span><span class="token keyword" style="color:#C792EA">await</span><span class="token plain"> </span><span class="token function" style="color:#82AAFF">expect</span><span class="token punctuation" style="color:#C792EA">(</span><span class="token plain">userService</span><span class="token punctuation" style="color:#C792EA">.</span><span class="token function" style="color:#82AAFF">createUser</span><span class="token punctuation" style="color:#C792EA">(</span><span class="token punctuation" style="color:#C792EA">{</span><span class="token plain"> email</span><span class="token operator" style="color:#7FDBCA">:</span><span class="token plain"> </span><span class="token string" style="color:#ECC48D">&#x27;existing@example.com&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#C792EA">}</span><span class="token punctuation" style="color:#C792EA">)</span><span class="token punctuation" style="color:#C792EA">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      </span><span class="token punctuation" style="color:#C792EA">.</span><span class="token plain">rejects</span><span class="token punctuation" style="color:#C792EA">.</span><span class="token function" style="color:#82AAFF">toThrow</span><span class="token punctuation" style="color:#C792EA">(</span><span class="token string" style="color:#ECC48D">&#x27;Email already exists&#x27;</span><span class="token punctuation" style="color:#C792EA">)</span><span class="token punctuation" style="color:#C792EA">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  </span><span class="token punctuation" style="color:#C792EA">}</span><span class="token punctuation" style="color:#C792EA">)</span><span class="token punctuation" style="color:#C792EA">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"></span><span class="token punctuation" style="color:#C792EA">}</span><span class="token punctuation" style="color:#C792EA">)</span><span class="token punctuation" style="color:#C792EA">;</span><br></span></code></pre></div></div>
<p><strong>第 2 步：运行测试（预期失败）</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain">!npm test -- --testPathPattern=UserService</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"># 预期输出: FAIL - createUser is not a function</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>红灯是好事</div><div class="admonitionContent_BuS1"><p>测试失败证明你的测试是有效的，它在验证一个尚未实现的功能。</p></div></div>
<p><strong>第 3 步：实现最小可行代码</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain">现在实现 UserService.createUser 方法，让上面的测试通过，但不要过度实现。</span><br></span></code></pre></div></div>
<p><strong>第 4 步：重构</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain">测试已通过。现在请重构 createUser 的实现，提升代码质量：</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">1. 提取密码哈希为独立方法</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">2. 添加输入验证</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">3. 优化错误处理</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">重构后确保测试仍然通过。</span><br></span></code></pre></div></div>
<p><strong>第 5 步：重复循环</strong></p>
<p>针对下一个功能点，回到第 1 步。</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="代码审查工作流">代码审查工作流<a href="#代码审查工作流" class="hash-link" aria-label="代码审查工作流的直接链接" title="代码审查工作流的直接链接" translate="no">​</a></h2>
<p>通过多个专门的子代理并行进行代码审查，覆盖不同维度的质量检查。</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="创建子代理配置">创建子代理配置<a href="#创建子代理配置" class="hash-link" aria-label="创建子代理配置的直接链接" title="创建子代理配置的直接链接" translate="no">​</a></h3>
<p>在 <code>.claude/agents.json</code> 中配置审查代理：</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token punctuation" style="color:#C792EA">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  </span><span class="token property" style="color:#F78C6C">&quot;agents&quot;</span><span class="token operator" style="color:#7FDBCA">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#C792EA">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    </span><span class="token punctuation" style="color:#C792EA">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      </span><span class="token property" style="color:#F78C6C">&quot;name&quot;</span><span class="token operator" style="color:#7FDBCA">:</span><span class="token plain"> </span><span class="token string" style="color:#ECC48D">&quot;code-reviewer&quot;</span><span class="token punctuation" style="color:#C792EA">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      </span><span class="token property" style="color:#F78C6C">&quot;description&quot;</span><span class="token operator" style="color:#7FDBCA">:</span><span class="token plain"> </span><span class="token string" style="color:#ECC48D">&quot;代码质量和最佳实践审查&quot;</span><span class="token punctuation" style="color:#C792EA">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      </span><span class="token property" style="color:#F78C6C">&quot;prompt&quot;</span><span class="token operator" style="color:#7FDBCA">:</span><span class="token plain"> </span><span class="token string" style="color:#ECC48D">&quot;你是一位专注于代码质量的高级工程师。审查代码时关注：代码可读性、DRY 原则、SOLID 原则、命名规范、注释质量、潜在的 Bug。用中文输出结构化的审查报告，包含问题列表和改进建议。&quot;</span><span class="token punctuation" style="color:#C792EA">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      </span><span class="token property" style="color:#F78C6C">&quot;model&quot;</span><span class="token operator" style="color:#7FDBCA">:</span><span class="token plain"> </span><span class="token string" style="color:#ECC48D">&quot;claude-opus-4-6&quot;</span><span class="token punctuation" style="color:#C792EA">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      </span><span class="token property" style="color:#F78C6C">&quot;tools&quot;</span><span class="token operator" style="color:#7FDBCA">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#C792EA">[</span><span class="token string" style="color:#ECC48D">&quot;read_file&quot;</span><span class="token punctuation" style="color:#C792EA">,</span><span class="token plain"> </span><span class="token string" style="color:#ECC48D">&quot;search_files&quot;</span><span class="token punctuation" style="color:#C792EA">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    </span><span class="token punctuation" style="color:#C792EA">}</span><span class="token punctuation" style="color:#C792EA">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    </span><span class="token punctuation" style="color:#C792EA">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      </span><span class="token property" style="color:#F78C6C">&quot;name&quot;</span><span class="token operator" style="color:#7FDBCA">:</span><span class="token plain"> </span><span class="token string" style="color:#ECC48D">&quot;security-reviewer&quot;</span><span class="token punctuation" style="color:#C792EA">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      </span><span class="token property" style="color:#F78C6C">&quot;description&quot;</span><span class="token operator" style="color:#7FDBCA">:</span><span class="token plain"> </span><span class="token string" style="color:#ECC48D">&quot;安全漏洞审查&quot;</span><span class="token punctuation" style="color:#C792EA">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      </span><span class="token property" style="color:#F78C6C">&quot;prompt&quot;</span><span class="token operator" style="color:#7FDBCA">:</span><span class="token plain"> </span><span class="token string" style="color:#ECC48D">&quot;你是一位专注于安全的工程师。审查代码时关注：SQL 注入、XSS、CSRF、身份验证绕过、敏感信息泄露、不安全的依赖、权限控制问题。输出 OWASP 风险等级（Critical/High/Medium/Low）和修复建议。&quot;</span><span class="token punctuation" style="color:#C792EA">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      </span><span class="token property" style="color:#F78C6C">&quot;model&quot;</span><span class="token operator" style="color:#7FDBCA">:</span><span class="token plain"> </span><span class="token string" style="color:#ECC48D">&quot;claude-opus-4-6&quot;</span><span class="token punctuation" style="color:#C792EA">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      </span><span class="token property" style="color:#F78C6C">&quot;tools&quot;</span><span class="token operator" style="color:#7FDBCA">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#C792EA">[</span><span class="token string" style="color:#ECC48D">&quot;read_file&quot;</span><span class="token punctuation" style="color:#C792EA">,</span><span class="token plain"> </span><span class="token string" style="color:#ECC48D">&quot;search_files&quot;</span><span class="token punctuation" style="color:#C792EA">,</span><span class="token plain"> </span><span class="token string" style="color:#ECC48D">&quot;bash&quot;</span><span class="token punctuation" style="color:#C792EA">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    </span><span class="token punctuation" style="color:#C792EA">}</span><span class="token punctuation" style="color:#C792EA">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    </span><span class="token punctuation" style="color:#C792EA">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      </span><span class="token property" style="color:#F78C6C">&quot;name&quot;</span><span class="token operator" style="color:#7FDBCA">:</span><span class="token plain"> </span><span class="token string" style="color:#ECC48D">&quot;performance-reviewer&quot;</span><span class="token punctuation" style="color:#C792EA">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      </span><span class="token property" style="color:#F78C6C">&quot;description&quot;</span><span class="token operator" style="color:#7FDBCA">:</span><span class="token plain"> </span><span class="token string" style="color:#ECC48D">&quot;性能问题审查&quot;</span><span class="token punctuation" style="color:#C792EA">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      </span><span class="token property" style="color:#F78C6C">&quot;prompt&quot;</span><span class="token operator" style="color:#7FDBCA">:</span><span class="token plain"> </span><span class="token string" style="color:#ECC48D">&quot;你是一位专注于性能优化的工程师。审查代码时关注：N+1 查询、不必要的重渲染、内存泄漏、大量同步操作、缓存机会、算法复杂度。输出性能影响评估和具体优化方案。&quot;</span><span class="token punctuation" style="color:#C792EA">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      </span><span class="token property" style="color:#F78C6C">&quot;model&quot;</span><span class="token operator" style="color:#7FDBCA">:</span><span class="token plain"> </span><span class="token string" style="color:#ECC48D">&quot;claude-sonnet-4-5-20250929&quot;</span><span class="token punctuation" style="color:#C792EA">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">      </span><span class="token property" style="color:#F78C6C">&quot;tools&quot;</span><span class="token operator" style="color:#7FDBCA">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#C792EA">[</span><span class="token string" style="color:#ECC48D">&quot;read_file&quot;</span><span class="token punctuation" style="color:#C792EA">,</span><span class="token plain"> </span><span class="token string" style="color:#ECC48D">&quot;search_files&quot;</span><span class="token punctuation" style="color:#C792EA">,</span><span class="token plain"> </span><span class="token string" style="color:#ECC48D">&quot;bash&quot;</span><span class="token punctuation" style="color:#C792EA">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">    </span><span class="token punctuation" style="color:#C792EA">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">  </span><span class="token punctuation" style="color:#C792EA">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"></span><span class="token punctuation" style="color:#C792EA">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="四步审查流程">四步审查流程<a href="#四步审查流程" class="hash-link" aria-label="四步审查流程的直接链接" title="四步审查流程的直接链接" translate="no">​</a></h3>
<p><strong>第 1 步：并行审查</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain"># 同时启动三个审查代理</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">claude --agent code-reviewer &quot;@src/auth/ 审查这个模块的代码质量&quot; &amp;</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">claude --agent security-reviewer &quot;@src/auth/ 审查这个模块的安全问题&quot; &amp;</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">claude --agent performance-reviewer &quot;@src/auth/ 审查这个模块的性能问题&quot; &amp;</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">wait</span><br></span></code></pre></div></div>
<p><strong>第 2 步：综合报告</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain">汇总刚才三个代理的审查结果，生成一份综合审查报告：</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">1. 按严重程度排序所有问题</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">2. 标注问题类型（质量/安全/性能）</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">3. 估算修复时间</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">4. 给出修复优先级建议</span><br></span></code></pre></div></div>
<p><strong>第 3 步：逐个修复</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain"># 按优先级逐个修复</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">修复第 1 个问题：[粘贴具体问题描述]</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">修复后运行测试验证：!npm test</span><br></span></code></pre></div></div>
<p><strong>第 4 步：重新审查</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain">所有问题已修复，请重新审查 @src/auth/ 确认问题已解决，并检查修复过程中是否引入新问题。</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="验证闭环feedback-loop">验证闭环（Feedback Loop）<a href="#验证闭环feedback-loop" class="hash-link" aria-label="验证闭环（Feedback Loop）的直接链接" title="验证闭环（Feedback Loop）的直接链接" translate="no">​</a></h2>
<p>建立自动化验证机制，确保每次变更都经过充分验证。</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="简单任务bash-命令验证">简单任务：Bash 命令验证<a href="#简单任务bash-命令验证" class="hash-link" aria-label="简单任务：Bash 命令验证的直接链接" title="简单任务：Bash 命令验证的直接链接" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain"># 单元测试</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">!npm test</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"># 类型检查</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">!npx tsc --noEmit</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"># 代码风格检查</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">!npx eslint src/ --ext .ts,.tsx</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"># 构建验证</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">!npm run build</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="复杂-ui浏览器自动化验证">复杂 UI：浏览器自动化验证<a href="#复杂-ui浏览器自动化验证" class="hash-link" aria-label="复杂 UI：浏览器自动化验证的直接链接" title="复杂 UI：浏览器自动化验证的直接链接" translate="no">​</a></h3>
<p>结合 Chrome DevTools MCP，实现 UI 变更的自动化验证：</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain"># 使用 Chrome DevTools MCP 验证 UI</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">使用 Chrome DevTools 打开 http://localhost:3000，</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">验证用户登录流程：</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">1. 填写邮箱和密码</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">2. 点击登录按钮</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">3. 确认跳转到 Dashboard</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">4. 截图保存验证结果</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="端到端验证流程">端到端验证流程<a href="#端到端验证流程" class="hash-link" aria-label="端到端验证流程的直接链接" title="端到端验证流程的直接链接" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain">┌──────────────┐    ┌──────────────┐    ┌──────────────┐</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">│   实现功能    │ →  │  运行单元测试 │ →  │  运行集成测试 │</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">└──────────────┘    └──────────────┘    └──────────────┘</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">                                               ↓</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">┌──────────────┐    ┌──────────────┐    ┌──────────────┐</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">│   提交代码    │ ←  │  代码审查通过 │ ←  │  E2E测试通过  │</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">└──────────────┘    └──────────────┘    └──────────────┘</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="验证方式效果对比">验证方式效果对比<a href="#验证方式效果对比" class="hash-link" aria-label="验证方式效果对比的直接链接" title="验证方式效果对比的直接链接" translate="no">​</a></h3>








































<table><thead><tr><th>验证方式</th><th>代码质量</th><th>所需时间</th><th>返工率</th><th>适用场景</th></tr></thead><tbody><tr><td>无验证</td><td>低</td><td>短（假象）</td><td>60-80%</td><td>不推荐</td></tr><tr><td>人工验证</td><td>中</td><td>长</td><td>30-50%</td><td>简单修改</td></tr><tr><td>Claude 自动验证</td><td>高</td><td>中</td><td>5-15%</td><td>大多数任务</td></tr><tr><td>Claude + 自动化测试</td><td>极高</td><td>中</td><td>1-5%</td><td>核心功能</td></tr></tbody></table>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>验证闭环的价值</div><div class="admonitionContent_BuS1"><p>带验证闭环的工作流，虽然单次任务时间略长，但由于大幅减少返工，整体效率提升 3-5 倍。</p></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="项目组织">项目组织<a href="#项目组织" class="hash-link" aria-label="项目组织的直接链接" title="项目组织的直接链接" translate="no">​</a></h2>
<p>良好的项目结构让 Claude 更好地理解项目上下文，提升输出质量。</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="推荐目录结构">推荐目录结构<a href="#推荐目录结构" class="hash-link" aria-label="推荐目录结构的直接链接" title="推荐目录结构的直接链接" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token plain">project/</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">├── .claude/</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">│   ├── settings.json      # Claude 权限和行为配置</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">│   ├── agents.json        # 子代理配置</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">│   ├── mcp.json           # MCP 服务器配置</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">│   └── rules/             # 自定义规则文件</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">│       ├── coding-style.md</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">│       ├── git-conventions.md</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">│       └── testing-requirements.md</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">├── src/</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">│   ├── components/</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">│   ├── services/</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">│   ├── utils/</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">│   └── types/</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">├── tests/</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">│   ├── unit/</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">│   ├── integration/</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">│   └── e2e/</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">├── docs/</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">│   ├── architecture.md</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">│   ├── api.md</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">│   └── deployment.md</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">├── CLAUDE.md              # 项目级 Claude 指令（最重要）</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">└── README.md</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="claudemd-最佳实践">CLAUDE.md 最佳实践<a href="#claudemd-最佳实践" class="hash-link" aria-label="CLAUDE.md 最佳实践的直接链接" title="CLAUDE.md 最佳实践的直接链接" translate="no">​</a></h3>
<p><code>CLAUDE.md</code> 是项目中最重要的配置文件，它在每次对话时自动加载：</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D6DEEB;--prism-background-color:#001122"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style="color:#D6DEEB;background-color:#001122"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D6DEEB"><span class="token title important punctuation" style="color:#C792EA">#</span><span class="token title important" style="color:#D6DEEB"> 项目名称</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"></span><span class="token title important punctuation" style="color:#C792EA">##</span><span class="token title important" style="color:#D6DEEB"> 项目概述</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain">这是一个 [简短描述]，使用 [技术栈]。</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"></span><span class="token title important punctuation" style="color:#C792EA">##</span><span class="token title important" style="color:#D6DEEB"> 开发规范</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"></span><span class="token list punctuation" style="color:#C792EA">-</span><span class="token plain"> 使用 TypeScript 严格模式</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"></span><span class="token list punctuation" style="color:#C792EA">-</span><span class="token plain"> 所有公共函数必须有 JSDoc 注释</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"></span><span class="token list punctuation" style="color:#C792EA">-</span><span class="token plain"> 测试覆盖率不低于 80%</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"></span><span class="token title important punctuation" style="color:#C792EA">##</span><span class="token title important" style="color:#D6DEEB"> 目录约定</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"></span><span class="token list punctuation" style="color:#C792EA">-</span><span class="token plain"> </span><span class="token code-snippet code keyword" style="color:#C792EA">`src/services/`</span><span class="token plain"> - 业务逻辑层</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"></span><span class="token list punctuation" style="color:#C792EA">-</span><span class="token plain"> </span><span class="token code-snippet code keyword" style="color:#C792EA">`src/api/`</span><span class="token plain"> - API 路由处理器</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"></span><span class="token list punctuation" style="color:#C792EA">-</span><span class="token plain"> </span><span class="token code-snippet code keyword" style="color:#C792EA">`src/utils/`</span><span class="token plain"> - 纯函数工具</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"></span><span class="token title important punctuation" style="color:#C792EA">##</span><span class="token title important" style="color:#D6DEEB"> 常用命令</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"></span><span class="token list punctuation" style="color:#C792EA">-</span><span class="token plain"> </span><span class="token code-snippet code keyword" style="color:#C792EA">`npm test`</span><span class="token plain"> - 运行所有测试</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"></span><span class="token list punctuation" style="color:#C792EA">-</span><span class="token plain"> </span><span class="token code-snippet code keyword" style="color:#C792EA">`npm run build`</span><span class="token plain"> - 构建生产版本</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"></span><span class="token list punctuation" style="color:#C792EA">-</span><span class="token plain"> </span><span class="token code-snippet code keyword" style="color:#C792EA">`npm run lint`</span><span class="token plain"> - 代码风格检查</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"></span><span class="token title important punctuation" style="color:#C792EA">##</span><span class="token title important" style="color:#D6DEEB"> 注意事项</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"></span><span class="token list punctuation" style="color:#C792EA">-</span><span class="token plain"> 不要修改 </span><span class="token code-snippet code keyword" style="color:#C792EA">`src/generated/`</span><span class="token plain"> 目录下的文件（自动生成）</span><br></span><span class="token-line" style="color:#D6DEEB"><span class="token plain"></span><span class="token list punctuation" style="color:#C792EA">-</span><span class="token plain"> 数据库迁移必须经过人工审查</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>CLAUDE.md 的重要性</div><div class="admonitionContent_BuS1"><p>如果没有 CLAUDE.md，Claude 每次都需要重新理解项目，会浪费大量 Token 并降低输出质量。建议将 CLAUDE.md 纳入版本控制，作为项目文档的一部分。</p></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="工作流选择指南">工作流选择指南<a href="#工作流选择指南" class="hash-link" aria-label="工作流选择指南的直接链接" title="工作流选择指南的直接链接" translate="no">​</a></h2>



































<table><thead><tr><th>任务类型</th><th>推荐工作流</th><th>估计效率提升</th></tr></thead><tbody><tr><td>新功能开发</td><td>探索-规划-编码-提交</td><td>3x</td></tr><tr><td>Bug 修复</td><td>探索-编码-验证-提交</td><td>2x</td></tr><tr><td>核心模块开发</td><td>TDD 工作流</td><td>4x（长期）</td></tr><tr><td>代码质量改善</td><td>代码审查工作流</td><td>2-3x</td></tr><tr><td>重构</td><td>TDD + 代码审查</td><td>5x（长期）</td></tr></tbody></table></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/claude-doc/docs/advanced-features/vibecraft"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">VibeCraft — Claude Code 3D 可视化</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/claude-doc/docs/best-practices/performance"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">性能优化</div></a></nav></div></div><div class="col col--3"><div class="tocWrapper_xKoj"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#探索-规划-编码-提交工作流" class="table-of-contents__link toc-highlight">探索-规划-编码-提交工作流</a><ul><li><a href="#前置准备" class="table-of-contents__link toc-highlight">前置准备</a></li><li><a href="#第-1-步探索explore" class="table-of-contents__link toc-highlight">第 1 步：探索（Explore）</a></li><li><a href="#第-2-步规划plan" class="table-of-contents__link toc-highlight">第 2 步：规划（Plan）</a></li><li><a href="#第-3-步编码code" class="table-of-contents__link toc-highlight">第 3 步：编码（Code）</a></li><li><a href="#第-4-步提交commit" class="table-of-contents__link toc-highlight">第 4 步：提交（Commit）</a></li></ul></li><li><a href="#测试驱动开发tdd工作流" class="table-of-contents__link toc-highlight">测试驱动开发（TDD）工作流</a><ul><li><a href="#安装-test-writer-skill" class="table-of-contents__link toc-highlight">安装 Test-Writer Skill</a></li><li><a href="#tdd-五步循环" class="table-of-contents__link toc-highlight">TDD 五步循环</a></li></ul></li><li><a href="#代码审查工作流" class="table-of-contents__link toc-highlight">代码审查工作流</a><ul><li><a href="#创建子代理配置" class="table-of-contents__link toc-highlight">创建子代理配置</a></li><li><a href="#四步审查流程" class="table-of-contents__link toc-highlight">四步审查流程</a></li></ul></li><li><a href="#验证闭环feedback-loop" class="table-of-contents__link toc-highlight">验证闭环（Feedback Loop）</a><ul><li><a href="#简单任务bash-命令验证" class="table-of-contents__link toc-highlight">简单任务：Bash 命令验证</a></li><li><a href="#复杂-ui浏览器自动化验证" class="table-of-contents__link toc-highlight">复杂 UI：浏览器自动化验证</a></li><li><a href="#端到端验证流程" class="table-of-contents__link toc-highlight">端到端验证流程</a></li><li><a href="#验证方式效果对比" class="table-of-contents__link toc-highlight">验证方式效果对比</a></li></ul></li><li><a href="#项目组织" class="table-of-contents__link toc-highlight">项目组织</a><ul><li><a href="#推荐目录结构" class="table-of-contents__link toc-highlight">推荐目录结构</a></li><li><a href="#claudemd-最佳实践" class="table-of-contents__link toc-highlight">CLAUDE.md 最佳实践</a></li></ul></li><li><a href="#工作流选择指南" class="table-of-contents__link toc-highlight">工作流选择指南</a></li></ul></div><div class="tocFooter_Fu2z"><div class="themeGroup_RzWV" role="group" aria-label="Theme"><button class="themeBtn_tGr6" aria-label="Light theme" title="Light"><svg viewBox="0 0 24 24" width="15" height="15" fill="currentColor" aria-hidden="true"><path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"></path></svg></button><button class="themeBtn_tGr6 themeBtnActive_A6tm" aria-label="Dark theme" title="Dark"><svg viewBox="0 0 24 24" width="15" height="15" fill="currentColor" aria-hidden="true"><path d="M11.38 2.019a7.5 7.5 0 1 0 10.6 10.6C21.83 17.963 17.315 22 12.002 22 6.477 22 2 17.523 2 12c0-5.314 4.038-9.827 9.38-10.28z"></path></svg></button></div></div></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 Claude Docs.</div></div></div></footer></div>
</body>
</html>