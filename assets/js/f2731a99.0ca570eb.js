"use strict";(globalThis.webpackChunkdocs_workspace=globalThis.webpackChunkdocs_workspace||[]).push([[4117],{67828(n,e,s){s.r(e),s.d(e,{assets:()=>t,contentTitle:()=>i,default:()=>a,frontMatter:()=>r,metadata:()=>d,toc:()=>h});const d=JSON.parse('{"id":"best-practices/security","title":"\u5b89\u5168\u4e0e\u6545\u969c\u6392\u67e5","description":"Claude Code \u5b89\u5168\u914d\u7f6e\u6700\u4f73\u5b9e\u8df5\uff0c\u4ee5\u53ca\u5e38\u89c1\u95ee\u9898\u7684\u8bca\u65ad\u4e0e\u89e3\u51b3\u65b9\u6848","source":"@site/content/claude/docs/best-practices/security.md","sourceDirName":"best-practices","slug":"/best-practices/security","permalink":"/claude-doc/docs/best-practices/security","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"\u5b89\u5168\u4e0e\u6545\u969c\u6392\u67e5","description":"Claude Code \u5b89\u5168\u914d\u7f6e\u6700\u4f73\u5b9e\u8df5\uff0c\u4ee5\u53ca\u5e38\u89c1\u95ee\u9898\u7684\u8bca\u65ad\u4e0e\u89e3\u51b3\u65b9\u6848"},"sidebar":"tutorialSidebar","previous":{"title":"\u6027\u80fd\u4f18\u5316","permalink":"/claude-doc/docs/best-practices/performance"},"next":{"title":"\u771f\u5b9e\u573a\u666f\u6848\u4f8b\u5e93","permalink":"/claude-doc/docs/category/\u771f\u5b9e\u573a\u666f\u6848\u4f8b\u5e93"}}');var c=s(74848),l=s(28453);const r={sidebar_position:3,title:"\u5b89\u5168\u4e0e\u6545\u969c\u6392\u67e5",description:"Claude Code \u5b89\u5168\u914d\u7f6e\u6700\u4f73\u5b9e\u8df5\uff0c\u4ee5\u53ca\u5e38\u89c1\u95ee\u9898\u7684\u8bca\u65ad\u4e0e\u89e3\u51b3\u65b9\u6848"},i="\u5b89\u5168\u4e0e\u6545\u969c\u6392\u67e5",t={},h=[{value:"\u5b89\u5168\u914d\u7f6e",id:"\u5b89\u5168\u914d\u7f6e",level:2},{value:"Sandbox \u6a21\u5f0f",id:"sandbox-\u6a21\u5f0f",level:3},{value:"\u6700\u5c0f\u6743\u9650\u539f\u5219\u914d\u7f6e\u793a\u4f8b",id:"\u6700\u5c0f\u6743\u9650\u539f\u5219\u914d\u7f6e\u793a\u4f8b",level:3},{value:"Hooks \u5b89\u5168\u68c0\u67e5",id:"hooks-\u5b89\u5168\u68c0\u67e5",level:3},{value:"\u654f\u611f\u4fe1\u606f\u4fdd\u62a4",id:"\u654f\u611f\u4fe1\u606f\u4fdd\u62a4",level:3},{value:"\u7981\u6b62\u4e8b\u9879",id:"\u7981\u6b62\u4e8b\u9879",level:4},{value:"\u63a8\u8350\u505a\u6cd5",id:"\u63a8\u8350\u505a\u6cd5",level:4},{value:"\u5e38\u89c1\u95ee\u9898\u4e0e\u89e3\u51b3",id:"\u5e38\u89c1\u95ee\u9898\u4e0e\u89e3\u51b3",level:2},{value:"\u5b89\u88c5\u95ee\u9898",id:"\u5b89\u88c5\u95ee\u9898",level:3},{value:"Q1\uff1a<code>npm install -g @anthropic-ai/claude-code</code> \u5b89\u88c5\u5931\u8d25",id:"q1npm-install--g-anthropic-aiclaude-code-\u5b89\u88c5\u5931\u8d25",level:4},{value:"Q2\uff1a\u5b89\u88c5\u540e <code>claude</code> \u547d\u4ee4\u672a\u627e\u5230",id:"q2\u5b89\u88c5\u540e-claude-\u547d\u4ee4\u672a\u627e\u5230",level:4},{value:"\u914d\u7f6e\u95ee\u9898",id:"\u914d\u7f6e\u95ee\u9898",level:3},{value:"Q3\uff1a\u6a21\u578b\u914d\u7f6e\u4e0d\u751f\u6548",id:"q3\u6a21\u578b\u914d\u7f6e\u4e0d\u751f\u6548",level:4},{value:"Q4\uff1aMCP \u670d\u52a1\u5668\u65e0\u6cd5\u8fde\u63a5",id:"q4mcp-\u670d\u52a1\u5668\u65e0\u6cd5\u8fde\u63a5",level:4},{value:"\u4f7f\u7528\u95ee\u9898",id:"\u4f7f\u7528\u95ee\u9898",level:3},{value:"Q5\uff1a\u4e0a\u4e0b\u6587\u8d85\u51fa\u9650\u5236",id:"q5\u4e0a\u4e0b\u6587\u8d85\u51fa\u9650\u5236",level:4},{value:"Q6\uff1a\u4ee3\u7801\u751f\u6210\u8d28\u91cf\u5dee",id:"q6\u4ee3\u7801\u751f\u6210\u8d28\u91cf\u5dee",level:4},{value:"\u6027\u80fd\u95ee\u9898",id:"\u6027\u80fd\u95ee\u9898",level:3},{value:"Q7\uff1a\u54cd\u5e94\u901f\u5ea6\u6162",id:"q7\u54cd\u5e94\u901f\u5ea6\u6162",level:4},{value:"Q8\uff1aToken \u6d88\u8017\u8fc7\u5feb",id:"q8token-\u6d88\u8017\u8fc7\u5feb",level:4},{value:"\u8c03\u8bd5\u6280\u5de7",id:"\u8c03\u8bd5\u6280\u5de7",level:2},{value:"\u542f\u7528\u8c03\u8bd5\u6a21\u5f0f",id:"\u542f\u7528\u8c03\u8bd5\u6a21\u5f0f",level:3},{value:"\u5e38\u7528\u8bca\u65ad\u547d\u4ee4",id:"\u5e38\u7528\u8bca\u65ad\u547d\u4ee4",level:3},{value:"\u65e5\u5fd7\u5206\u6790\u6280\u5de7",id:"\u65e5\u5fd7\u5206\u6790\u6280\u5de7",level:3},{value:"\u5b89\u5168\u5ba1\u8ba1\u6e05\u5355",id:"\u5b89\u5168\u5ba1\u8ba1\u6e05\u5355",level:2}];function o(n){const e={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...n.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(e.header,{children:(0,c.jsx)(e.h1,{id:"\u5b89\u5168\u4e0e\u6545\u969c\u6392\u67e5",children:"\u5b89\u5168\u4e0e\u6545\u969c\u6392\u67e5"})}),"\n",(0,c.jsx)(e.p,{children:"\u5b89\u5168\u662f\u4f7f\u7528 AI \u7f16\u7a0b\u52a9\u624b\u7684\u9996\u8981\u8003\u91cf\u3002\u672c\u6587\u4ecb\u7ecd Claude Code \u7684\u5b89\u5168\u914d\u7f6e\u4f53\u7cfb\uff0c\u4ee5\u53ca\u5e38\u89c1\u95ee\u9898\u7684\u7cfb\u7edf\u5316\u89e3\u51b3\u65b9\u6848\u3002"}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h2,{id:"\u5b89\u5168\u914d\u7f6e",children:"\u5b89\u5168\u914d\u7f6e"}),"\n",(0,c.jsx)(e.h3,{id:"sandbox-\u6a21\u5f0f",children:"Sandbox \u6a21\u5f0f"}),"\n",(0,c.jsx)(e.p,{children:"Sandbox \u6a21\u5f0f\u901a\u8fc7\u6743\u9650\u767d\u540d\u5355/\u9ed1\u540d\u5355\u673a\u5236\uff0c\u7cbe\u786e\u63a7\u5236 Claude Code \u53ef\u4ee5\u6267\u884c\u7684\u64cd\u4f5c\uff0c\u9632\u6b62\u610f\u5916\u6216\u6076\u610f\u7684\u6587\u4ef6/\u547d\u4ee4\u64cd\u4f5c\u3002"}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.strong,{children:"\u914d\u7f6e\u65b9\u5f0f\u4e00\uff1a\u4ea4\u4e92\u5f0f\u914d\u7f6e"})}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:"/permissions\n# \u6253\u5f00\u6743\u9650\u914d\u7f6e\u754c\u9762\uff0c\u53ef\u89c6\u5316\u7ba1\u7406\u6240\u6709\u6743\u9650\n"})}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.strong,{children:"\u914d\u7f6e\u65b9\u5f0f\u4e8c\uff1a\u76f4\u63a5\u7f16\u8f91 settings.json"})}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-json",children:'// .claude/settings.json\n{\n  "permissions": {\n    "allow": {\n      "bash": [\n        "git *",\n        "npm *",\n        "npx *",\n        "node *",\n        "python *",\n        "pytest *",\n        "jest *",\n        "tsc *",\n        "eslint *"\n      ],\n      "write": [\n        "src/**",\n        "tests/**",\n        "docs/**",\n        ".claude/**",\n        "*.md",\n        "*.json",\n        "*.yaml"\n      ],\n      "read": [\n        "**/*"\n      ]\n    },\n    "deny": {\n      "bash": [\n        "rm -rf *",\n        "sudo *",\n        "chmod 777 *",\n        "curl * | bash",\n        "wget * | sh",\n        "dd if=*",\n        "> /dev/sda*",\n        "mkfs *",\n        "fdisk *",\n        "format *"\n      ],\n      "write": [\n        "/etc/**",\n        "/usr/**",\n        "/sys/**",\n        "/boot/**",\n        "~/.ssh/**",\n        "~/.aws/**",\n        "**/.env",\n        "**/*.key",\n        "**/*.pem",\n        "**/*.p12",\n        "**/secrets/**"\n      ]\n    }\n  }\n}\n'})}),"\n",(0,c.jsx)(e.h3,{id:"\u6700\u5c0f\u6743\u9650\u539f\u5219\u914d\u7f6e\u793a\u4f8b",children:"\u6700\u5c0f\u6743\u9650\u539f\u5219\u914d\u7f6e\u793a\u4f8b"}),"\n",(0,c.jsx)(e.p,{children:"\u6839\u636e\u9879\u76ee\u7c7b\u578b\uff0c\u4f7f\u7528\u6700\u5c0f\u5fc5\u8981\u6743\u9650\uff1a"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-json",children:'// \u524d\u7aef\u9879\u76ee\uff08\u6781\u7b80\u914d\u7f6e\uff09\n{\n  "permissions": {\n    "allow": {\n      "bash": ["npm *", "npx *", "git *"],\n      "write": ["src/**", "public/**", "tests/**"],\n      "read": ["**/*"]\n    },\n    "deny": {\n      "bash": ["rm -rf *", "sudo *"],\n      "write": [".env*", "**/*.key", "/etc/**"]\n    }\n  }\n}\n'})}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-json",children:'// \u540e\u7aef\u9879\u76ee\uff08\u542b\u6570\u636e\u5e93\u64cd\u4f5c\uff09\n{\n  "permissions": {\n    "allow": {\n      "bash": [\n        "npm *", "node *", "git *",\n        "psql -h localhost *",    // \u53ea\u5141\u8bb8\u672c\u5730\u6570\u636e\u5e93\n        "redis-cli -h localhost *"\n      ],\n      "write": ["src/**", "migrations/**", "tests/**"],\n      "read": ["**/*"]\n    },\n    "deny": {\n      "bash": [\n        "psql -h production *",   // \u7981\u6b62\u8fde\u63a5\u751f\u4ea7\u6570\u636e\u5e93\n        "sudo *", "rm -rf *"\n      ],\n      "write": [".env", "**/*.key", "/etc/**"]\n    }\n  }\n}\n'})}),"\n",(0,c.jsx)(e.admonition,{title:"\u6c38\u8fdc\u4e0d\u8981\u5728\u751f\u4ea7\u73af\u5883\u8fd0\u884c Claude Code",type:"danger",children:(0,c.jsx)(e.p,{children:"Claude Code \u7684\u6240\u6709\u64cd\u4f5c\u90fd\u5e94\u8be5\u5728\u5f00\u53d1/\u6d4b\u8bd5\u73af\u5883\u4e2d\u8fdb\u884c\u3002\u5373\u4f7f\u914d\u7f6e\u4e86\u4e25\u683c\u7684\u6743\u9650\uff0c\u4e5f\u5b58\u5728\u8bef\u64cd\u4f5c\u98ce\u9669\u3002\u5efa\u8bae\u901a\u8fc7 CI/CD \u6d41\u6c34\u7ebf\u5c06\u7ecf\u8fc7\u5ba1\u67e5\u7684\u4ee3\u7801\u90e8\u7f72\u5230\u751f\u4ea7\u73af\u5883\u3002"})}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h3,{id:"hooks-\u5b89\u5168\u68c0\u67e5",children:"Hooks \u5b89\u5168\u68c0\u67e5"}),"\n",(0,c.jsx)(e.p,{children:"\u901a\u8fc7 Hooks \u673a\u5236\uff0c\u5728 Claude \u6267\u884c\u547d\u4ee4\u524d\u8fdb\u884c\u5b89\u5168\u6821\u9a8c\uff1a"}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.strong,{children:"\u914d\u7f6e Pre-execution Hook\uff1a"})}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-json",children:'// .claude/settings.json\n{\n  "hooks": {\n    "preExecution": ".claude/hooks/security-check.sh"\n  }\n}\n'})}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.strong,{children:"\u521b\u5efa\u5b89\u5168\u68c0\u67e5\u811a\u672c\uff1a"})}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:'#!/bin/bash\n# .claude/hooks/security-check.sh\n# \u5728 Claude \u6267\u884c Bash \u547d\u4ee4\u524d\u8fdb\u884c\u5b89\u5168\u68c0\u67e5\n\nCOMMAND="$1"\n\n# \u5b9a\u4e49\u5371\u9669\u547d\u4ee4\u9ed1\u540d\u5355\nDANGEROUS_PATTERNS=(\n  "rm -rf /"\n  "rm -rf ~"\n  "rm -rf \\*"\n  "> /dev/sd"\n  "mkfs\\."\n  "dd if=.*of=/dev/sd"\n  "curl.*| *sh"\n  "curl.*| *bash"\n  "wget.*| *sh"\n  "wget.*| *bash"\n  "sudo rm"\n  "chmod 777 /"\n  "chown.*root"\n  ":(){ :|:& };:"    # Fork bomb\n  "base64 -d.*| *sh" # \u6df7\u6dc6\u6267\u884c\n)\n\n# \u68c0\u67e5\u547d\u4ee4\u662f\u5426\u5339\u914d\u5371\u9669\u6a21\u5f0f\nfor pattern in "${DANGEROUS_PATTERNS[@]}"; do\n  if echo "$COMMAND" | grep -qE "$pattern"; then\n    echo "\u274c \u5b89\u5168\u68c0\u67e5\u5931\u8d25: \u68c0\u6d4b\u5230\u5371\u9669\u547d\u4ee4\u6a21\u5f0f: $pattern"\n    echo "\u547d\u4ee4: $COMMAND"\n    echo "\u8bf7\u624b\u52a8\u786e\u8ba4\u662f\u5426\u9700\u8981\u6267\u884c\u6b64\u547d\u4ee4\u3002"\n    exit 1  # \u8fd4\u56de\u975e\u96f6\u503c\u963b\u6b62\u6267\u884c\n  fi\ndone\n\n# \u68c0\u67e5\u662f\u5426\u5c1d\u8bd5\u64cd\u4f5c\u654f\u611f\u8def\u5f84\nSENSITIVE_PATHS=(\n  "/etc/passwd"\n  "/etc/shadow"\n  "~/.ssh/id_rsa"\n  "~/.aws/credentials"\n  ".env"\n)\n\nfor path in "${SENSITIVE_PATHS[@]}"; do\n  if echo "$COMMAND" | grep -q "$path"; then\n    echo "\u26a0\ufe0f  \u8b66\u544a: \u547d\u4ee4\u6d89\u53ca\u654f\u611f\u6587\u4ef6\u8def\u5f84: $path"\n    echo "\u547d\u4ee4: $COMMAND"\n    read -p "\u786e\u8ba4\u6267\u884c? (yes/no): " confirm\n    if [ "$confirm" != "yes" ]; then\n      echo "\u5df2\u53d6\u6d88\u6267\u884c\u3002"\n      exit 1\n    fi\n  fi\ndone\n\necho "\u2705 \u5b89\u5168\u68c0\u67e5\u901a\u8fc7"\nexit 0\n'})}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:"# \u8bbe\u7f6e\u811a\u672c\u6267\u884c\u6743\u9650\nchmod +x .claude/hooks/security-check.sh\n"})}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h3,{id:"\u654f\u611f\u4fe1\u606f\u4fdd\u62a4",children:"\u654f\u611f\u4fe1\u606f\u4fdd\u62a4"}),"\n",(0,c.jsx)(e.h4,{id:"\u7981\u6b62\u4e8b\u9879",children:"\u7981\u6b62\u4e8b\u9879"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\u5c06 ",(0,c.jsx)(e.code,{children:".env"})," \u6587\u4ef6\u6216 ",(0,c.jsx)(e.code,{children:"secrets.json"})," \u5305\u542b\u5728 ",(0,c.jsx)(e.code,{children:"@\u5f15\u7528"})," \u4e2d"]}),"\n",(0,c.jsx)(e.li,{children:"\u5728\u63d0\u793a\u8bcd\u4e2d\u76f4\u63a5\u7c98\u8d34 API Key\u3001\u5bc6\u7801\u6216\u79c1\u94a5"}),"\n",(0,c.jsx)(e.li,{children:"\u8ba9 Claude \u5c06\u654f\u611f\u4fe1\u606f\u5199\u5165\u7248\u672c\u63a7\u5236\u6587\u4ef6"}),"\n",(0,c.jsx)(e.li,{children:"\u4f7f\u7528 Claude \u5904\u7406\u5305\u542b\u771f\u5b9e\u7528\u6237\u6570\u636e\u7684\u6587\u4ef6"}),"\n",(0,c.jsxs)(e.li,{children:["\u5c06\u751f\u4ea7\u6570\u636e\u5e93\u8fde\u63a5\u5b57\u7b26\u4e32\u653e\u5165 ",(0,c.jsx)(e.code,{children:"CLAUDE.md"})]}),"\n"]}),"\n",(0,c.jsx)(e.h4,{id:"\u63a8\u8350\u505a\u6cd5",children:"\u63a8\u8350\u505a\u6cd5"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\u4f7f\u7528 ",(0,c.jsx)(e.code,{children:".env.example"})," \u4ee3\u66ff ",(0,c.jsx)(e.code,{children:".env"}),"\uff08\u53ea\u5305\u542b\u53d8\u91cf\u540d\uff0c\u4e0d\u542b\u503c\uff09"]}),"\n",(0,c.jsxs)(e.li,{children:["\u5728 ",(0,c.jsx)(e.code,{children:".gitignore"})," \u4e2d\u786e\u8ba4 ",(0,c.jsx)(e.code,{children:".env*"})," \u548c ",(0,c.jsx)(e.code,{children:"*.key"})," \u5df2\u6392\u9664"]}),"\n",(0,c.jsxs)(e.li,{children:["\u4f7f\u7528\u73af\u5883\u53d8\u91cf\u5f15\u7528\uff0c\u800c\u975e\u786c\u7f16\u7801\uff1a",(0,c.jsx)(e.code,{children:"process.env.API_KEY"})]}),"\n",(0,c.jsx)(e.li,{children:"\u5bf9\u5305\u542b\u654f\u611f\u5b57\u6bb5\u7684\u6570\u636e\u4f7f\u7528\u8131\u654f\u6570\u636e\u8fdb\u884c\u6d4b\u8bd5"}),"\n",(0,c.jsx)(e.li,{children:"\u5b9a\u671f\u8f6e\u6362 Claude Code \u4f7f\u7528\u7684 API Key"}),"\n"]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:'# \u68c0\u67e5\u662f\u5426\u6709\u654f\u611f\u4fe1\u606f\u610f\u5916\u63d0\u4ea4\n!git log --all --full-history -- "**/.env"\n!git grep -l "password\\|secret\\|api_key" -- "*.ts" "*.js"\n\n# \u4f7f\u7528 git-secrets \u9632\u6b62\u610f\u5916\u63d0\u4ea4\n!git secrets --install\n!git secrets --register-aws\n'})}),"\n",(0,c.jsx)(e.admonition,{title:"\u4e00\u65e6\u6cc4\u9732\uff0c\u7acb\u5373\u8f6e\u6362",type:"warning",children:(0,c.jsx)(e.p,{children:"\u5982\u679c\u4f60\u610f\u5916\u5730\u8ba9 Claude \u63a5\u89e6\u5230\u4e86\u771f\u5b9e\u7684 API Key \u6216\u5bc6\u7801\uff0c\u65e0\u8bba\u662f\u5426\u6709\u5b9e\u9645\u6cc4\u9732\uff0c\u90fd\u5e94\u8be5\u7acb\u5373\u8f6e\u6362\u8be5\u51ed\u8bc1\u3002\u5b81\u53ef\u591a\u8f6e\u6362\u4e00\u6b21\uff0c\u4e5f\u4e0d\u8981\u627f\u62c5\u5b89\u5168\u98ce\u9669\u3002"})}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h2,{id:"\u5e38\u89c1\u95ee\u9898\u4e0e\u89e3\u51b3",children:"\u5e38\u89c1\u95ee\u9898\u4e0e\u89e3\u51b3"}),"\n",(0,c.jsx)(e.h3,{id:"\u5b89\u88c5\u95ee\u9898",children:"\u5b89\u88c5\u95ee\u9898"}),"\n",(0,c.jsxs)(e.h4,{id:"q1npm-install--g-anthropic-aiclaude-code-\u5b89\u88c5\u5931\u8d25",children:["Q1\uff1a",(0,c.jsx)(e.code,{children:"npm install -g @anthropic-ai/claude-code"})," \u5b89\u88c5\u5931\u8d25"]}),"\n",(0,c.jsxs)(e.p,{children:[(0,c.jsx)(e.strong,{children:"\u75c7\u72b6\uff1a"})," ",(0,c.jsx)(e.code,{children:"EACCES: permission denied"})," \u6216 ",(0,c.jsx)(e.code,{children:"npm ERR! code EINTEGRITY"})]}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848\u4e00\uff1a\u4f7f\u7528 sudo\uff08\u5feb\u901f\u4f46\u4e0d\u63a8\u8350\uff09"})}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:"sudo npm install -g @anthropic-ai/claude-code\n# \u98ce\u9669\uff1a\u53ef\u80fd\u5f71\u54cd\u7cfb\u7edf npm \u76ee\u5f55\u6743\u9650\n"})}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848\u4e8c\uff1a\u4fee\u6539 npm \u5168\u5c40\u76ee\u5f55\uff08\u63a8\u8350\uff09"})}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:"# 1. \u521b\u5efa\u7528\u6237\u7ea7 npm \u76ee\u5f55\nmkdir -p ~/.npm-global\n\n# 2. \u914d\u7f6e npm \u4f7f\u7528\u65b0\u76ee\u5f55\nnpm config set prefix '~/.npm-global'\n\n# 3. \u6dfb\u52a0\u5230 PATH\uff08\u6dfb\u52a0\u5230 ~/.bashrc \u6216 ~/.zshrc\uff09\necho 'export PATH=~/.npm-global/bin:$PATH' >> ~/.zshrc\nsource ~/.zshrc\n\n# 4. \u91cd\u65b0\u5b89\u88c5\nnpm install -g @anthropic-ai/claude-code\n"})}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848\u4e09\uff1a\u4f7f\u7528 nvm \u7ba1\u7406 Node \u7248\u672c\uff08\u6700\u4f73\u5b9e\u8df5\uff09"})}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:"# \u5b89\u88c5 nvm\ncurl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash\nsource ~/.bashrc\n\n# \u5b89\u88c5 LTS \u7248 Node\nnvm install --lts\nnvm use --lts\n\n# \u5b89\u88c5 Claude Code\uff08\u65e0\u9700 sudo\uff09\nnpm install -g @anthropic-ai/claude-code\n"})}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsxs)(e.h4,{id:"q2\u5b89\u88c5\u540e-claude-\u547d\u4ee4\u672a\u627e\u5230",children:["Q2\uff1a\u5b89\u88c5\u540e ",(0,c.jsx)(e.code,{children:"claude"})," \u547d\u4ee4\u672a\u627e\u5230"]}),"\n",(0,c.jsxs)(e.p,{children:[(0,c.jsx)(e.strong,{children:"\u75c7\u72b6\uff1a"})," ",(0,c.jsx)(e.code,{children:"bash: claude: command not found"})]}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.strong,{children:"\u8bca\u65ad\u6b65\u9aa4\uff1a"})}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:"# 1. \u786e\u8ba4 claude \u5df2\u5b89\u88c5\nnpm list -g @anthropic-ai/claude-code\n\n# 2. \u627e\u5230 npm \u5168\u5c40\u4e8c\u8fdb\u5236\u76ee\u5f55\nnpm config get prefix\n# \u8f93\u51fa\u793a\u4f8b\uff1a/home/user/.npm-global\n\n# 3. \u68c0\u67e5 PATH \u662f\u5426\u5305\u542b\u8be5\u76ee\u5f55\necho $PATH | tr ':' '\\n' | grep npm\n\n# 4. \u5982\u679c\u4e0d\u5305\u542b\uff0c\u624b\u52a8\u6dfb\u52a0\necho 'export PATH=$(npm config get prefix)/bin:$PATH' >> ~/.zshrc\nsource ~/.zshrc\n\n# 5. \u9a8c\u8bc1\nwhich claude\nclaude --version\n"})}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h3,{id:"\u914d\u7f6e\u95ee\u9898",children:"\u914d\u7f6e\u95ee\u9898"}),"\n",(0,c.jsx)(e.h4,{id:"q3\u6a21\u578b\u914d\u7f6e\u4e0d\u751f\u6548",children:"Q3\uff1a\u6a21\u578b\u914d\u7f6e\u4e0d\u751f\u6548"}),"\n",(0,c.jsxs)(e.p,{children:[(0,c.jsx)(e.strong,{children:"\u75c7\u72b6\uff1a"})," \u8bbe\u7f6e\u4e86 ",(0,c.jsx)(e.code,{children:"claude-opus-4-6"})," \u4f46\u5b9e\u9645\u4f7f\u7528\u7684\u662f\u5176\u4ed6\u6a21\u578b"]}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.strong,{children:"\u6392\u67e5\u6b65\u9aa4\uff1a"})}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:'# 1. \u9a8c\u8bc1\u73af\u5883\u53d8\u91cf\u662f\u5426\u6b63\u786e\u8bbe\u7f6e\necho $ANTHROPIC_MODEL\necho $CLAUDE_MODEL\n\n# 2. \u68c0\u67e5 settings.json \u914d\u7f6e\ncat .claude/settings.json | grep model\n\n# 3. \u91cd\u542f\u7ec8\u7aef\u540e\u518d\u6b21\u68c0\u67e5\nsource ~/.zshrc\necho $ANTHROPIC_MODEL\n\n# 4. \u4f7f\u7528 /status \u547d\u4ee4\u68c0\u67e5\u5f53\u524d\u914d\u7f6e\n/status\n# \u8f93\u51fa\u5f53\u524d\u4f7f\u7528\u7684\u6a21\u578b\u3001API Key \u72b6\u6001\u3001\u6743\u9650\u914d\u7f6e\u7b49\n\n# 5. \u4e34\u65f6\u6307\u5b9a\u6a21\u578b\uff08\u7528\u4e8e\u6d4b\u8bd5\uff09\nclaude --model claude-opus-4-6 "\u6d4b\u8bd5\u6a21\u578b\u914d\u7f6e"\n'})}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.strong,{children:"\u5e38\u89c1\u539f\u56e0\uff1a"})}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\u73af\u5883\u53d8\u91cf\u5728\u5f53\u524d Shell \u4f1a\u8bdd\u4e2d\u672a\u751f\u6548\uff08\u9700\u8981 ",(0,c.jsx)(e.code,{children:"source ~/.zshrc"}),"\uff09"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"settings.json"})," \u4e2d\u7684 ",(0,c.jsx)(e.code,{children:"model"})," \u5b57\u6bb5\u4e0e\u73af\u5883\u53d8\u91cf\u51b2\u7a81\uff08settings.json \u4f18\u5148\u7ea7\u66f4\u9ad8\uff09"]}),"\n",(0,c.jsxs)(e.li,{children:["\u4f7f\u7528\u4e86\u4e0d\u5b58\u5728\u7684\u6a21\u578b ID\uff08\u68c0\u67e5 ",(0,c.jsx)(e.a,{href:"https://docs.anthropic.com/en/api/getting-started",children:"\u5b98\u65b9\u6a21\u578b\u5217\u8868"}),"\uff09"]}),"\n"]}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h4,{id:"q4mcp-\u670d\u52a1\u5668\u65e0\u6cd5\u8fde\u63a5",children:"Q4\uff1aMCP \u670d\u52a1\u5668\u65e0\u6cd5\u8fde\u63a5"}),"\n",(0,c.jsxs)(e.p,{children:[(0,c.jsx)(e.strong,{children:"\u75c7\u72b6\uff1a"})," ",(0,c.jsx)(e.code,{children:"@mcp:github"})," \u5f15\u7528\u62a5\u9519\uff0c\u6216 MCP \u529f\u80fd\u4e0d\u53ef\u7528"]}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.strong,{children:"\u7cfb\u7edf\u5316\u6392\u67e5\u6d41\u7a0b\uff1a"})}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:"# \u6b65\u9aa4 1\uff1a\u68c0\u67e5 MCP \u670d\u52a1\u5668\u72b6\u6001\n/mcp\n# \u8f93\u51fa\u6240\u6709\u5df2\u914d\u7f6e\u7684 MCP \u670d\u52a1\u5668\u53ca\u5176\u8fde\u63a5\u72b6\u6001\n\n# \u6b65\u9aa4 2\uff1a\u6d4b\u8bd5\u7279\u5b9a MCP \u670d\u52a1\u5668\n/mcp test github\n# \u6267\u884c\u8fde\u63a5\u6d4b\u8bd5\u5e76\u8f93\u51fa\u8be6\u7ec6\u9519\u8bef\u4fe1\u606f\n\n# \u6b65\u9aa4 3\uff1a\u67e5\u770b MCP \u914d\u7f6e\ncat .claude/mcp.json\n\n# \u6b65\u9aa4 4\uff1a\u91cd\u65b0\u5b89\u88c5\u95ee\u9898 MCP\nclaude mcp remove github\nclaude mcp add github\n# \u6216\u6307\u5b9a\u7248\u672c\nnpm install -g @modelcontextprotocol/server-github@latest\n\n# \u6b65\u9aa4 5\uff1a\u68c0\u67e5\u7f51\u7edc\u8fde\u63a5\ncurl -I https://api.github.com\n# \u5982\u679c\u5931\u8d25\uff0c\u68c0\u67e5\u9632\u706b\u5899\u6216\u4ee3\u7406\u8bbe\u7f6e\n\n# \u6b65\u9aa4 6\uff1a\u8fd0\u884c\u5168\u9762\u8bca\u65ad\n/doctor\n# \u68c0\u67e5\u6240\u6709\u7ec4\u4ef6\u7684\u5065\u5eb7\u72b6\u6001\uff0c\u8f93\u51fa\u8be6\u7ec6\u8bca\u65ad\u62a5\u544a\n"})}),"\n",(0,c.jsx)(e.admonition,{title:"/doctor \u547d\u4ee4\u7684\u4f5c\u7528",type:"info",children:(0,c.jsxs)(e.p,{children:[(0,c.jsx)(e.code,{children:"/doctor"})," \u4f1a\u68c0\u67e5\uff1aNode.js \u7248\u672c\u3001API Key \u6709\u6548\u6027\u3001\u7f51\u7edc\u8fde\u63a5\u3001MCP \u670d\u52a1\u5668\u72b6\u6001\u3001\u6743\u9650\u914d\u7f6e\u3001\u6587\u4ef6\u7cfb\u7edf\u8bbf\u95ee\u7b49\u3002\u9047\u5230\u7591\u96be\u95ee\u9898\uff0c\u9996\u5148\u8fd0\u884c ",(0,c.jsx)(e.code,{children:"/doctor"}),"\u3002"]})}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h3,{id:"\u4f7f\u7528\u95ee\u9898",children:"\u4f7f\u7528\u95ee\u9898"}),"\n",(0,c.jsx)(e.h4,{id:"q5\u4e0a\u4e0b\u6587\u8d85\u51fa\u9650\u5236",children:"Q5\uff1a\u4e0a\u4e0b\u6587\u8d85\u51fa\u9650\u5236"}),"\n",(0,c.jsxs)(e.p,{children:[(0,c.jsx)(e.strong,{children:"\u75c7\u72b6\uff1a"})," ",(0,c.jsx)(e.code,{children:"Context length exceeded"}),' \u9519\u8bef\uff0c\u6216 Claude \u5f00\u59cb"\u9057\u5fd8"\u4e4b\u524d\u7684\u4fe1\u606f']}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.strong,{children:"\u89e3\u51b3\u6b65\u9aa4\uff1a"})}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:'# 1. \u67e5\u770b\u5f53\u524d\u4e0a\u4e0b\u6587\u4f7f\u7528\u60c5\u51b5\n/context\n# \u8f93\u51fa\u5404\u90e8\u5206 Token \u5360\u7528\uff0c\u627e\u51fa"\u5927\u6237"\n\n# 2. \u538b\u7f29\u5386\u53f2\uff08\u63a8\u8350\u9996\u9009\uff09\n/compact\n# \u4fdd\u7559\u5173\u952e\u4fe1\u606f\u7684\u6458\u8981\uff0c\u6e05\u7406\u5197\u4f59\u5bf9\u8bdd\n\n# 3. \u5982\u679c /compact \u540e\u4ecd\u7136\u8d85\u9650\uff0c\u6e05\u7a7a\u4e0a\u4e0b\u6587\n/clear\n# \u7136\u540e\u4f7f\u7528\u7cbe\u786e\u7684 @\u5f15\u7528 \u91cd\u5efa\u5fc5\u8981\u4e0a\u4e0b\u6587\n\n# 4. \u91cd\u5efa\u4e0a\u4e0b\u6587\u65f6\uff0c\u53ea\u5f15\u7528\u5fc5\u8981\u6587\u4ef6\n@src/auth/AuthService.ts @src/types/user.ts\n# \u800c\u4e0d\u662f\u6574\u4e2a @src/\n\n# 5. \u5bf9\u4e8e\u8d85\u5927\u578b\u4efb\u52a1\uff0c\u4f7f\u7528 Subagents\n# \u6bcf\u4e2a\u5b50\u4ee3\u7406\u5904\u7406\u4e00\u4e2a\u72ec\u7acb\u6a21\u5757\uff0c\u907f\u514d\u5355\u4e2a\u4e0a\u4e0b\u6587\u8fc7\u5927\nclaude --agent user-module "\u5904\u7406\u7528\u6237\u6a21\u5757..."\nclaude --agent payment-module "\u5904\u7406\u652f\u4ed8\u6a21\u5757..."\n'})}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.strong,{children:"\u9884\u9632\u63aa\u65bd\uff1a"})}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\u6bcf\u5b8c\u6210\u4e00\u4e2a\u529f\u80fd\u70b9\uff0c\u6267\u884c ",(0,c.jsx)(e.code,{children:"/compact"})]}),"\n",(0,c.jsx)(e.li,{children:"\u907f\u514d\u5728\u5355\u6b21\u5bf9\u8bdd\u4e2d\u5904\u7406\u8d85\u8fc7 3 \u4e2a\u5927\u578b\u6587\u4ef6"}),"\n",(0,c.jsx)(e.li,{children:"\u5c06\u5927\u578b\u4efb\u52a1\u62c6\u5206\u4e3a\u591a\u4e2a\u5b50\u4efb\u52a1\uff0c\u5206\u522b\u5904\u7406"}),"\n"]}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h4,{id:"q6\u4ee3\u7801\u751f\u6210\u8d28\u91cf\u5dee",children:"Q6\uff1a\u4ee3\u7801\u751f\u6210\u8d28\u91cf\u5dee"}),"\n",(0,c.jsxs)(e.p,{children:[(0,c.jsx)(e.strong,{children:"\u75c7\u72b6\uff1a"})," \u751f\u6210\u7684\u4ee3\u7801\u4e0d\u7b26\u5408\u9879\u76ee\u89c4\u8303\uff0c\u6216\u9891\u7e41\u9700\u8981\u5927\u91cf\u4fee\u6539"]}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.strong,{children:"\u7cfb\u7edf\u5316\u6539\u8fdb\u65b9\u6848\uff1a"})}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:"# 1. \u5b8c\u5584 CLAUDE.md\uff08\u6700\u6709\u6548\u7684\u6539\u8fdb\u65b9\u5f0f\uff09\ncat >> CLAUDE.md << 'EOF'\n\n## \u4ee3\u7801\u89c4\u8303\uff08\u5fc5\u987b\u9075\u5b88\uff09\n- \u4f7f\u7528\u51fd\u6570\u5f0f\u7ec4\u4ef6\uff0c\u7981\u6b62 class \u7ec4\u4ef6\n- \u6240\u6709\u5f02\u6b65\u64cd\u4f5c\u4f7f\u7528 async/await\uff0c\u7981\u6b62 .then() \u94fe\u5f0f\u8c03\u7528\n- \u9519\u8bef\u5904\u7406\u5fc5\u987b\u4f7f\u7528 try/catch\uff0c\u7981\u6b62 .catch()\n- \u72b6\u6001\u7ba1\u7406\u4f7f\u7528 Zustand\uff0c\u7981\u6b62\u76f4\u63a5\u4f7f\u7528 React.useState \u5904\u7406\u5168\u5c40\u72b6\u6001\n- \u6240\u6709\u63a5\u53e3\u5fc5\u987b\u6709 TypeScript \u7c7b\u578b\u5b9a\u4e49\n\n## \u4ee3\u7801\u98ce\u683c\u793a\u4f8b\n// \u2705 \u6b63\u786e\u793a\u8303\nconst fetchUser = async (id: string): Promise<User> => {\n  try {\n    const response = await api.get<User>(`/users/${id}`);\n    return response.data;\n  } catch (error) {\n    throw new ApiError('Failed to fetch user', error);\n  }\n};\nEOF\n"})}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:'# 2. \u4f7f\u7528 Plan \u6a21\u5f0f\u786e\u8ba4\u7406\u89e3\n# \u8ba9 Claude \u5148\u8f93\u51fa\u8ba1\u5212\uff0c\u786e\u8ba4\u7406\u89e3\u6b63\u786e\u518d\u6267\u884c\n# \u6309 Shift+Tab \u4e24\u6b21\u8fdb\u5165 Plan \u6a21\u5f0f\n\n# 3. \u63d0\u4f9b\u5177\u4f53\u793a\u4f8b\n"\u5b9e\u73b0 fetchOrders \u65b9\u6cd5\uff0c\u53c2\u8003 @src/services/UserService.ts \u4e2d\n fetchUsers \u65b9\u6cd5\u7684\u5b9e\u73b0\u98ce\u683c\u548c\u9519\u8bef\u5904\u7406\u6a21\u5f0f"\n\n# 4. \u660e\u786e\u7ea6\u675f\u6761\u4ef6\n"\u5b9e\u73b0\u8ba2\u5355\u5217\u8868\u7ec4\u4ef6\uff0c\u8981\u6c42\uff1a\n - \u4f7f\u7528 React.memo \u4f18\u5316\u6027\u80fd\n - \u652f\u6301\u865a\u62df\u6eda\u52a8\uff08\u4f7f\u7528 react-virtual \u5e93\uff09\n - \u9aa8\u67b6\u5c4f\u52a0\u8f7d\u72b6\u6001\n - \u7a7a\u72b6\u6001\u5904\u7406\n - \u4e0d\u8981\u4f7f\u7528 any \u7c7b\u578b"\n'})}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h3,{id:"\u6027\u80fd\u95ee\u9898",children:"\u6027\u80fd\u95ee\u9898"}),"\n",(0,c.jsx)(e.h4,{id:"q7\u54cd\u5e94\u901f\u5ea6\u6162",children:"Q7\uff1a\u54cd\u5e94\u901f\u5ea6\u6162"}),"\n",(0,c.jsxs)(e.p,{children:[(0,c.jsx)(e.strong,{children:"\u75c7\u72b6\uff1a"})," Claude \u54cd\u5e94\u65f6\u95f4\u8d85\u8fc7 30 \u79d2\uff0c\u6216\u9891\u7e41\u8d85\u65f6"]}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.strong,{children:"\u6392\u67e5\u4e0e\u89e3\u51b3\uff1a"})}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:'# 1. \u6d4b\u8bd5\u7f51\u7edc\u8fde\u63a5\u5230 Anthropic API\ncurl -w "@curl-format.txt" -o /dev/null -s https://api.anthropic.com/v1/models \\\n  -H "x-api-key: $ANTHROPIC_API_KEY"\n# \u68c0\u67e5 DNS \u89e3\u6790\u65f6\u95f4\u3001\u8fde\u63a5\u65f6\u95f4\u3001\u603b\u65f6\u95f4\n\n# 2. \u5207\u6362\u5230\u66f4\u5feb\u7684\u6a21\u578b\uff08\u54cd\u5e94\u66f4\u5feb\uff0c\u9002\u5408\u7b80\u5355\u4efb\u52a1\uff09\nclaude --model claude-sonnet-4-5-20250929 "\u7b80\u5355\u7684\u4ee3\u7801\u95ee\u9898"\n# claude-sonnet \u54cd\u5e94\u901f\u5ea6\u7ea6\u662f claude-opus \u7684 3 \u500d\n\n# 3. \u4f18\u5316\u63d0\u793a\u8bcd\uff0c\u51cf\u5c11\u4e0d\u5fc5\u8981\u7684\u590d\u6742\u5ea6\n# \u907f\u514d\uff1a\n"\u8bf7\u8be6\u7ec6\u5206\u6790\u6574\u4e2a\u9879\u76ee\u7684\u6240\u6709\u53ef\u80fd\u95ee\u9898..."\n# \u6539\u4e3a\uff1a\n"\u5206\u6790 @src/auth.ts \u4e2d login \u65b9\u6cd5\u7684\u6f5c\u5728 Bug"\n\n# 4. \u51cf\u5c11\u4e0a\u4e0b\u6587\u5927\u5c0f\n/context    # \u67e5\u770b\u5f53\u524d\u4f7f\u7528\u91cf\n/compact    # \u5982\u679c\u8d85\u8fc7 50%\uff0c\u7acb\u5373\u538b\u7f29\n'})}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.strong,{children:"\u7f51\u7edc\u4f18\u5316\uff08\u53ef\u9009\uff09\uff1a"})}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:'# \u5982\u679c\u5728\u4e2d\u56fd\u5927\u9646\uff0c\u914d\u7f6e\u4ee3\u7406\nexport HTTPS_PROXY=http://127.0.0.1:7890\nexport HTTP_PROXY=http://127.0.0.1:7890\n\n# \u6216\u5728 settings.json \u4e2d\u914d\u7f6e\n{\n  "proxy": "http://127.0.0.1:7890"\n}\n'})}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h4,{id:"q8token-\u6d88\u8017\u8fc7\u5feb",children:"Q8\uff1aToken \u6d88\u8017\u8fc7\u5feb"}),"\n",(0,c.jsxs)(e.p,{children:[(0,c.jsx)(e.strong,{children:"\u75c7\u72b6\uff1a"})," \u8d26\u5355\u8d85\u51fa\u9884\u671f\uff0c\u6216\u9891\u7e41\u89e6\u53d1\u901f\u7387\u9650\u5236"]}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.strong,{children:"Token \u6d88\u8017\u8bca\u65ad\uff1a"})}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:'# 1. \u67e5\u770b\u5f53\u524d\u4f1a\u8bdd Token \u6d88\u8017\n/cost\n# \u8f93\u51fa\uff1a\u672c\u6b21\u4f1a\u8bdd\u6d88\u8017\u7684 Token \u6570\u548c\u4f30\u7b97\u8d39\u7528\n\n# 2. \u4f7f\u7528 /compact \u51cf\u5c11\u5386\u53f2 Token\n/compact\n# \u6548\u679c\uff1a\u901a\u5e38\u53ef\u4ee5\u51cf\u5c11 40-60% \u7684\u4e0a\u4e0b\u6587 Token\n\n# 3. \u65b0\u4efb\u52a1\u5f00\u59cb\u65f6\u5f7b\u5e95\u6e05\u7a7a\n/clear\n# \u907f\u514d\u5c06\u4e0a\u4e00\u4e2a\u4efb\u52a1\u7684\u4e0a\u4e0b\u6587\u5e26\u5165\u65b0\u4efb\u52a1\n\n# 4. \u7b80\u5355\u4efb\u52a1\u4f7f\u7528\u4fbf\u5b9c\u7684\u6a21\u578b\nclaude --model claude-haiku-20240307 "\u683c\u5f0f\u5316\u8fd9\u6bb5\u4ee3\u7801"\n# Haiku \u4ef7\u683c\u7ea6\u662f Opus \u7684 1/20\n\n# 5. \u76d1\u63a7\u4f7f\u7528\u91cf\n/usage\n# \u67e5\u770b\u4eca\u65e5/\u672c\u6708\u6d88\u8017\uff0c\u8bbe\u7f6e\u9884\u7b97\u63d0\u9192\n'})}),"\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.strong,{children:"Token \u4f7f\u7528\u7387\u4f18\u5316\u5bf9\u7167\uff1a"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,c.jsxs)(e.table,{children:[(0,c.jsx)(e.thead,{children:(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.th,{children:"\u573a\u666f"}),(0,c.jsx)(e.th,{children:"\u9ad8\u6d88\u8017\u65b9\u5f0f"}),(0,c.jsx)(e.th,{children:"\u4f4e\u6d88\u8017\u65b9\u5f0f"}),(0,c.jsx)(e.th,{children:"\u8282\u7701\u6bd4\u4f8b"})]})}),(0,c.jsxs)(e.tbody,{children:[(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"\u6587\u4ef6\u5f15\u7528"}),(0,c.jsxs)(e.td,{children:[(0,c.jsx)(e.code,{children:"@src/"})," \u6574\u4e2a\u76ee\u5f55"]}),(0,c.jsxs)(e.td,{children:[(0,c.jsx)(e.code,{children:"@src/auth.ts"})," \u5355\u6587\u4ef6"]}),(0,c.jsx)(e.td,{children:"70-90%"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"\u4efb\u52a1\u5207\u6362"}),(0,c.jsx)(e.td,{children:"\u7ee7\u7eed\u4e4b\u524d\u7684\u5bf9\u8bdd"}),(0,c.jsxs)(e.td,{children:[(0,c.jsx)(e.code,{children:"/clear"})," \u540e\u65b0\u5f00\u59cb"]}),(0,c.jsx)(e.td,{children:"30-50%"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"\u6a21\u578b\u9009\u62e9"}),(0,c.jsx)(e.td,{children:"\u5168\u7a0b\u4f7f\u7528 Opus"}),(0,c.jsx)(e.td,{children:"\u6309\u4efb\u52a1\u9009\u62e9\u6a21\u578b"}),(0,c.jsx)(e.td,{children:"60-80%"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"\u4e0a\u4e0b\u6587\u7ba1\u7406"}),(0,c.jsx)(e.td,{children:"\u4ece\u4e0d\u6e05\u7406"}),(0,c.jsxs)(e.td,{children:["\u5b9a\u671f ",(0,c.jsx)(e.code,{children:"/compact"})]}),(0,c.jsx)(e.td,{children:"40-60%"})]})]})]}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h2,{id:"\u8c03\u8bd5\u6280\u5de7",children:"\u8c03\u8bd5\u6280\u5de7"}),"\n",(0,c.jsx)(e.h3,{id:"\u542f\u7528\u8c03\u8bd5\u6a21\u5f0f",children:"\u542f\u7528\u8c03\u8bd5\u6a21\u5f0f"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:"# \u542f\u7528\u5b8c\u6574\u8c03\u8bd5\u8f93\u51fa\nexport CLAUDE_DEBUG=true\n\n# \u8bbe\u7f6e\u65e5\u5fd7\u7ea7\u522b\uff08debug/info/warn/error\uff09\nexport CLAUDE_LOG_LEVEL=debug\n\n# \u6307\u5b9a\u65e5\u5fd7\u8f93\u51fa\u6587\u4ef6\nexport CLAUDE_LOG_FILE=~/.claude/debug.log\n\n# \u542f\u52a8\u540e\u67e5\u770b\u8be6\u7ec6\u65e5\u5fd7\nclaude\ntail -f ~/.claude/debug.log\n"})}),"\n",(0,c.jsx)(e.h3,{id:"\u5e38\u7528\u8bca\u65ad\u547d\u4ee4",children:"\u5e38\u7528\u8bca\u65ad\u547d\u4ee4"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:"# \u5168\u9762\u5065\u5eb7\u68c0\u67e5\nclaude /doctor\n# \u68c0\u67e5\u9879\u76ee\uff1aNode \u7248\u672c\u3001API \u8fde\u63a5\u3001MCP \u72b6\u6001\u3001\u6743\u9650\u914d\u7f6e\u3001\u6587\u4ef6\u7cfb\u7edf\n\n# \u67e5\u770b\u7248\u672c\u4fe1\u606f\nclaude --version\n\n# \u68c0\u67e5 API Key \u6709\u6548\u6027\nclaude /status\n# \u8f93\u51fa\uff1aAPI Key \u72b6\u6001\u3001\u4f7f\u7528\u7684\u6a21\u578b\u3001\u5f53\u524d\u914d\u989d\n\n# \u67e5\u770b\u6240\u6709\u914d\u7f6e\nclaude /config\n# \u8f93\u51fa\uff1a\u6240\u6709\u6709\u6548\u7684\u914d\u7f6e\u9879\u53ca\u5176\u6765\u6e90\uff08\u5168\u5c40/\u9879\u76ee/\u73af\u5883\u53d8\u91cf\uff09\n\n# \u91cd\u7f6e\u5230\u9ed8\u8ba4\u914d\u7f6e\uff08\u8c28\u614e\u4f7f\u7528\uff09\nclaude /reset --confirm\n"})}),"\n",(0,c.jsx)(e.h3,{id:"\u65e5\u5fd7\u5206\u6790\u6280\u5de7",children:"\u65e5\u5fd7\u5206\u6790\u6280\u5de7"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:'# \u67e5\u627e\u9519\u8bef\u65e5\u5fd7\ngrep "ERROR\\|FATAL" ~/.claude/debug.log | tail -50\n\n# \u67e5\u770b API \u8bf7\u6c42\u7edf\u8ba1\ngrep "API request" ~/.claude/debug.log | wc -l\n\n# \u5206\u6790 Token \u6d88\u8017\u5cf0\u503c\ngrep "tokens_used" ~/.claude/debug.log | awk \'{print $NF}\' | sort -n | tail -10\n\n# \u6e05\u7406\u65e7\u65e5\u5fd7\uff08\u65e5\u5fd7\u53ef\u80fd\u5f88\u5927\uff09\nfind ~/.claude/logs -name "*.log" -mtime +7 -delete\n'})}),"\n",(0,c.jsx)(e.admonition,{title:"\u63d0\u4ea4 Bug \u62a5\u544a\u65f6\u7684\u5fc5\u8981\u4fe1\u606f",type:"tip",children:(0,c.jsxs)(e.p,{children:["\u5411 Anthropic \u63d0\u4ea4 Bug \u65f6\uff0c\u8bf7\u9644\u4e0a\uff1a",(0,c.jsx)(e.code,{children:"claude --version"})," \u8f93\u51fa\u3001",(0,c.jsx)(e.code,{children:"/doctor"})," \u62a5\u544a\u3001\u76f8\u5173\u9519\u8bef\u65e5\u5fd7\uff08\u53bb\u9664\u654f\u611f\u4fe1\u606f\uff09\u3001\u64cd\u4f5c\u7cfb\u7edf\u548c Node.js \u7248\u672c\u3002\u8fd9\u4e9b\u4fe1\u606f\u80fd\u5927\u5e45\u52a0\u901f\u95ee\u9898\u5b9a\u4f4d\u3002"]})}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h2,{id:"\u5b89\u5168\u5ba1\u8ba1\u6e05\u5355",children:"\u5b89\u5168\u5ba1\u8ba1\u6e05\u5355"}),"\n",(0,c.jsx)(e.p,{children:"\u5728\u6b63\u5f0f\u4f7f\u7528 Claude Code \u4e4b\u524d\uff0c\u6309\u6b64\u6e05\u5355\u5b8c\u6210\u5b89\u5168\u914d\u7f6e\uff1a"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,c.jsxs)(e.table,{children:[(0,c.jsx)(e.thead,{children:(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.th,{children:"\u68c0\u67e5\u9879"}),(0,c.jsx)(e.th,{children:"\u547d\u4ee4/\u64cd\u4f5c"}),(0,c.jsx)(e.th,{children:"\u72b6\u6001"})]})}),(0,c.jsxs)(e.tbody,{children:[(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"\u6743\u9650\u914d\u7f6e\u5df2\u8bbe\u7f6e"}),(0,c.jsxs)(e.td,{children:["\u67e5\u770b ",(0,c.jsx)(e.code,{children:".claude/settings.json"})]}),(0,c.jsx)(e.td,{children:"[ ]"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"\u5371\u9669\u547d\u4ee4\u5df2\u5217\u5165\u9ed1\u540d\u5355"}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"permissions.deny.bash"})}),(0,c.jsx)(e.td,{children:"[ ]"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"\u654f\u611f\u8def\u5f84\u5df2\u4fdd\u62a4"}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"permissions.deny.write"})}),(0,c.jsx)(e.td,{children:"[ ]"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsxs)(e.td,{children:[(0,c.jsx)(e.code,{children:".env"})," \u5728 ",(0,c.jsx)(e.code,{children:".gitignore"})," \u4e2d"]}),(0,c.jsx)(e.td,{children:"`cat .gitignore"}),(0,c.jsx)(e.td,{children:"grep env`"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"Pre-execution Hook \u5df2\u914d\u7f6e"}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"cat .claude/hooks/security-check.sh"})}),(0,c.jsx)(e.td,{children:"[ ]"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"MCP \u670d\u52a1\u5668\u6743\u9650\u5df2\u6700\u5c0f\u5316"}),(0,c.jsxs)(e.td,{children:[(0,c.jsx)(e.code,{children:"/mcp"})," \u68c0\u67e5\u5404\u670d\u52a1\u5668\u6743\u9650"]}),(0,c.jsx)(e.td,{children:"[ ]"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"CLAUDE.md \u4e0d\u542b\u654f\u611f\u4fe1\u606f"}),(0,c.jsx)(e.td,{children:"\u4eba\u5de5\u68c0\u67e5"}),(0,c.jsx)(e.td,{children:"[ ]"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"\u65e5\u5fd7\u6587\u4ef6\u4e0d\u542b API Key"}),(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:'grep -r "sk-ant" ~/.claude/logs/'})}),(0,c.jsx)(e.td,{children:"[ ]"})]})]})]}),"\n",(0,c.jsx)(e.admonition,{title:"\u5b9a\u671f\u5b89\u5168\u5ba1\u8ba1",type:"info",children:(0,c.jsx)(e.p,{children:"\u5efa\u8bae\u6bcf\u6708\u6267\u884c\u4e00\u6b21\u5b89\u5168\u5ba1\u8ba1\uff0c\u7279\u522b\u662f\u5728\u6dfb\u52a0\u65b0\u7684 MCP \u670d\u52a1\u5668\u6216\u4fee\u6539\u6743\u9650\u914d\u7f6e\u540e\u3002\u968f\u7740 Claude Code \u529f\u80fd\u66f4\u65b0\uff0c\u5b89\u5168\u6700\u4f73\u5b9e\u8df5\u4e5f\u4f1a\u76f8\u5e94\u6f14\u8fdb\u3002"})})]})}function a(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,c.jsx)(e,{...n,children:(0,c.jsx)(o,{...n})}):o(n)}},28453(n,e,s){s.d(e,{R:()=>r,x:()=>i});var d=s(96540);const c={},l=d.createContext(c);function r(n){const e=d.useContext(l);return d.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function i(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(c):n.components||c:r(n.components),d.createElement(l.Provider,{value:e},n.children)}}}]);